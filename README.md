# Web_App_Car_Dealership

Это веб-приложение для автосалона «CarКарыч рулит», построенное на ASP.NET Core MVC и Entity Framework Core, с ролями пользователей и аналитикой продаж.

## Основные возможности

### Аутентификация и роли

- **Администратор**  
  Полный доступ: может добавлять, редактировать и удалять автомобили, просматривать отчёты и статистику, управлять пользователями.

- **Менеджер**  
  Может видеть список всех автомобилей и удалять их, просматривать отчёты по продажам (без возможности добавления/редактирования).

- **Клиент**  
  Может только просматривать автомобили и оставлять отзывы (только на купленные автомобили).


### Управление автомобилями

- **Список автомобилей** с полями «Производитель», «Модель», «Лошадиные силы», «Год выпуска», «Цена», «Уровень доступа».
- **CRUD-операции** для администратора (создание, редактирование, удаление).
- **Удаление** для менеджера.
- **Только просмотр** для клиента.

### Покупки и отзывы

- **Покупка автомобиля**: клиенты (роль «Клиент») могут купить автомобиль — запись о покупке сохраняется в базе.
- **Отзывы**: клиенты, купившие авто, могут оставлять отзывы с рейтингом (1–5) и текстом.
- **Список отзывов** доступен админам и менеджерам для каждого автомобиля.


### Аналитические отчёты

1. **Продажи за выбранный период**  
   Отчёт «Продано за X мес.»: сколько штук продано, сколько выручки — доступен администратору на странице «Купленные авто» (форма ввода месяцев).

2. **Выручка по производителям**  
   Отдельная страница с табличным представлением и диаграммой Chart.js, показывающая общую выручку и количество проданных штук по каждому бренду за всё время.

3. **Динамика продаж по месяцам**  
   Линейный график (две оси Y: количество и выручка) на странице «Купленные авто», доступный админам и менеджерам.

4. **Статистика отзывов**  
   Страница «Статистика отзывов» (только авторизованные пользователи):
   - Авто с наибольшим числом отзывов
   - Авто с наивысшим средним рейтингом (мин. 3 отзыва)
   - Топ-5 по количеству отзывов и по среднему рейтингу
   - Распределение оценок в виде таблицы и диаграммы

### Интерфейс и дизайн

- **Адаптивный дизайн** с Bootstrap 5.
- **Тёмная тема** переключается кнопкой, выбор сохраняется в `localStorage`.
- **Иконка-глазик** в поле пароля на странице входа, чтобы показывать/скрывать ввод.
- **Диаграммы** Chart.js: столбчатые, круговые и линейные графики для визуализации отчётов.

## Архитектура и технологии

- **ASP.NET Core MVC** — контроллеры, модели, представления.
- **Entity Framework Core** — Code-First миграции, `DbContext`, `DbSet<>`.
- **SQL Server Express** — база данных (строка подключения в `appsettings.json`).
- **Cookie Authentication** — хранение сессий и авторизация.
- **Rotativa** — генерация PDF-отчетов (по необходимости).